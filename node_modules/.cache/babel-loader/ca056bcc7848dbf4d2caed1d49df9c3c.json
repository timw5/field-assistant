{"ast":null,"code":"import _defineProperty from\"/usr/share/nginx/www/field-assistant/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/usr/share/nginx/www/field-assistant/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/usr/share/nginx/www/field-assistant/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'bootstrap/dist/css/bootstrap.min.css';import{Container,Form,Button}from\"react-bootstrap\";import{useState}from'react';import{Link,useNavigate}from'react-router-dom';import axios from'axios';import Swal from'sweetalert2';import withReactContent from'sweetalert2-react-content';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=function Login(){var _useState=useState({email:\"\",pass:\"\"}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState({userError:\"\",passError:\"\",error:false}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],seterrors=_useState4[1];var swal=withReactContent(Swal);var nav=useNavigate();var handlesubmit=function handlesubmit(e){e.preventDefault();axios.post(\"http://localhost:80/login.php\",data).then(function(result){var res=result.data;if(res==\"PassError\"){seterrors(_objectSpread(_objectSpread({},errors),{},{passError:\"Password Incorrect\",error:true}));}else if(res==\"UserError\"){seterrors(_objectSpread(_objectSpread({},errors),{},{userError:\"Email not registered\",error:true}));swal.fire({title:\"email not registered\",icon:\"warning\",footer:\"<button class=\\\"btn btn-success\\\">Create Account</button>\",timer:2000});}else if(res||res==true){swal.fire({html:/*#__PURE__*/_jsx(\"h3\",{className:\"text-success\",children:\"Success\"}),icon:'success',timer:1000});nav(\"/profile\");}else{swal.fire({html:/*#__PURE__*/_jsx(\"h3\",{className:\"text-success\",children:\"Error, please try again\"}),icon:'warning',timer:1000});}});};var handleChange=function handleChange(e){setData(_objectSpread(_objectSpread({},data),{},_defineProperty({},e.target.name,e.target.value)));seterrors(_objectSpread(_objectSpread({},errors),{},{error:false,userError:\"\",passError:\"\"}));};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:handlesubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email address\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",name:\"email\",required:true,placeholder:\"Enter email\",onChange:handleChange,value:data.email,isInvalid:errors.userError?true:false}),/*#__PURE__*/_jsx(Form.Control.Feedback,{className:\"text-danger\",type:\"invalid\",children:errors.userError})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",controlId:\"formBasicPassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",name:\"pass\",required:true,placeholder:\"Password\",onChange:handleChange,value:data.pass,isInvalid:errors.passError?true:false}),/*#__PURE__*/_jsx(Form.Control.Feedback,{className:\"text-danger\",type:\"invalid\",children:errors.passError})]}),/*#__PURE__*/_jsx(Button,{classname:\"mr-4 mt-2\",variant:\"primary\",type:\"submit\",children:\"Submit\"}),/*#__PURE__*/_jsxs(Form.Text,{className:\"text-muted ms-4 mt-2\",children:[\"Need an account? Register \",/*#__PURE__*/_jsx(Link,{className:\"ml-4 link-primary\",to:\"/register\",children:\"Here\"})]})]})})});};export default Login;","map":{"version":3,"names":["Container","Form","Button","useState","Link","useNavigate","axios","Swal","withReactContent","Login","email","pass","data","setData","userError","passError","error","errors","seterrors","swal","nav","handlesubmit","e","preventDefault","post","then","result","res","fire","title","icon","footer","timer","html","handleChange","target","name","value"],"sources":["/usr/share/nginx/www/field-assistant/src/Components/Login.js"],"sourcesContent":["import 'bootstrap/dist/css/bootstrap.min.css';\nimport { Container, Form, Button } from \"react-bootstrap\";\nimport { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\nimport withReactContent from 'sweetalert2-react-content';\n\n\nconst Login = () => {\n\n  const [data, setData] = useState({\n    email : \"\",\n    pass : \"\"\n  });\n\n  const [errors, seterrors] = useState({\n    userError: \"\",\n    passError : \"\",\n    error : false\n  });\n\n  const swal = withReactContent(Swal);\n  let nav = useNavigate();\n\n  const handlesubmit=(e) =>{\n    e.preventDefault();\n    axios.post(\"http://localhost:80/login.php\", data)\n    .then((result)=>{\n        let res = result.data;\n        if(res == \"PassError\") {\n            seterrors({...errors, passError:\"Password Incorrect\", error:true});\n        }\n        else if(res == \"UserError\") {\n            seterrors({...errors, userError:\"Email not registered\", error:true})\n            swal.fire({\n              title: \"email not registered\",\n              icon: \"warning\",\n              footer: \"<button class=\\\"btn btn-success\\\">Create Account</button>\",\n              timer:2000\n            })\n        }\n        else if(res || res == true){\n          swal.fire({\n            html: <h3 className='text-success'>Success</h3>,\n            icon: 'success',\n            timer: 1000\n          });\n          nav(\"/profile\");\n        }\n        else {\n          swal.fire({\n            html: <h3 className='text-success'>Error, please try again</h3>,\n            icon: 'warning',\n            timer: 1000\n          });\n        }\n        \n      })\n  };\n\n  const handleChange=(e)=>{\n    setData({ ...data, [e.target.name] : e.target.value});\n    seterrors({...errors, error:false, userError:\"\", passError:\"\"})\n}\n\n    return(\n    <>\n    <Container>\n    <Form onSubmit={handlesubmit}>\n  <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n    <Form.Label>Email address</Form.Label>\n    <Form.Control \n      type=\"email\" \n      name=\"email\" \n      required\n      placeholder=\"Enter email\" \n      onChange={handleChange}\n      value={data.email} \n      isInvalid={errors.userError ? true : false}\n\n      />\n      <Form.Control.Feedback className = \"text-danger\" type=\"invalid\">{errors.userError}</Form.Control.Feedback>\n\n  </Form.Group>\n\n  <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n    <Form.Label>Password</Form.Label>\n    <Form.Control \n      type=\"password\" \n      name=\"pass\" \n      required\n      placeholder=\"Password\" \n      onChange={handleChange} \n      value={data.pass}\n      isInvalid={errors.passError ? true : false}\n    />\n    <Form.Control.Feedback className = \"text-danger\" type=\"invalid\">{errors.passError}</Form.Control.Feedback>\n\n  </Form.Group>\n  <Button classname=\"mr-4 mt-2\" variant=\"primary\" type=\"submit\">\n    Submit\n  </Button>\n  <Form.Text className=\"text-muted ms-4 mt-2\">\n      Need an account? Register <Link className='ml-4 link-primary' to=\"/register\">Here</Link>\n    </Form.Text>\n</Form>\n    </Container>   \n    </>\n    );\n\n\n}\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module"}